type HouseFlat {
    id: String
    flatNumber: String
    price: Float
    sale: Float
    level: Int
    section: String
    area: Float
    status: String
    roomAmount: String
    squarePrice: String
    layout: BaseLayout
    levelAmount: Int
    fakeLevel: Boolean
}

type HouseSidebarFlatLevelLayouts {
    id: String
    image: SinglePreviewImage
    paths: [String]
    viewBox: ViewBox
}

type HouseSidebarFlat {
    id: String
    flatNumber: String
    price: Float
    sale: Float
    level: Int
    levelAmount: Int
    section: String
    area: Float
    status: String
    roomAmount: String
    squarePrice: String
    layout: BaseLayout
    house: House
    apartmentComplex: ApartmentComplex
    levelLayouts: [HouseSidebarFlatLevelLayouts]
    developer: Developer
}

input HouseFlatInput {
    id: String
    flatNumber: String
    levelAmount: Int
    price: Float
    sale: Float
    level: Int
    section: String
    area: Float
    status: String
    squarePrice: String
    roomAmount: String
}

type GroupedByLevelFlat {
    id: String
    level: Int
    flats: [HouseFlat]
}

type GroupedBySectionFlat {
    id: String
    section: String
    levels: [GroupedByLevelFlat]
}

type FlatsInHouse {
    id: String
    name: String
    groupedFlats: [GroupedBySectionFlat]
}

type GroupedBySectionResult {
    maxPrice: Float
    minPrice: Float
    maxArea: Float
    minArea: Float
    houseFlats: [FlatsInHouse]
}
type Mutation {
    updateFlat(flat: HouseFlatInput): HouseFlat
    createFlat(houseGuid: String, flat: HouseFlatInput): HouseFlat
    deleteFlat(uuid: String): Boolean
}

extend type Query {
    getFlats(uuid: String!): [HouseFlat]
    getGroupedFlatsBySection(uuid: [String]): GroupedBySectionResult
    getPublicGroupedFlatsBySection(uuid: [String]): GroupedBySectionResult
    getSectionData(sectionId: String!): GroupedBySectionFlat
    getFlatSidebarInfo(flatId: String!): HouseSidebarFlat
}
