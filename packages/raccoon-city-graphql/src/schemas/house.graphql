type House {
    id: String
    name: String
    class: KeyDisplayName
    levels: Int
    price: Float
    parking: Boolean
    address: String
    beginDate: String
    endDate: String
    images: HouseImages
}

input HouseInput {
    name: String
    class: KeyDisplayNameInput
    levels: Int
    price: Float
    parking: Boolean
    address: String
    beginDate: String
    endDate: String
}

type HouseImages {
    CHESS_GRID: SingleImage
    SITE: SingleImage
    MOBILE: SingleImage
    VR: [PreviewImage]
    HALF_VR: [PreviewImage]
    PHOTO: [NamedImage]
}

type HouseFlat {
    id: String
    flatNumber: Int
    price: Float
    level: Int
    entrance: Int
    area: Float
    status: String
    roomAmount: Int
}

type GroupedByLevelFlat {
    level: Int
    flats: [HouseFlat]
}

type GroupedByEntranceFlat {
    entrance: Int
    level: [GroupedByLevelFlat]
}

type Mutation {
    createHouse(apartmentComplexId: String!, houseData: HouseInput!): ApartmentComplex
    addHouseImage(file: Upload!, mode: String!, uuid: String!, name: String): ImageMeta!
    deleteHouseImage(mode: String!, uuid: String!, imageId: String!): String
}

extend type Query {
    getHouses(apartmentComplexId: String!): [House]
    getHouse(uuid: String!): House
    getFlats(uuid: String!): [HouseFlat]
    getGroupedFlatsByEntrance(uuid: String!): [GroupedByEntranceFlat]
}
